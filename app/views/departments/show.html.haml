- content_for :title, @department.name
%p#notice= notice
%h1= @department.name
.dept-list
  - @subdepartments_with_sections.each do |subdepartment|
    - if (@count > 1)
      %h2= subdepartment.name
    %ul.department-courses
      - flag = true
      - separator = 0
      - @courses_with_sections.select{|c| c.subdepartment_id == subdepartment.id}.sort_by{|c| c.number}.each do |course|
        - if flag
          - separator = (course.number / 1000) * 1000 + 1000
          - flag = false
        - if course.number >= separator
          %br
          - separator = (course.number / 1000) * 1000 + 1000
        %li= link_to course.mnemonic_number + " " + course.title, course
        -# elsif number_of_professors == 1
          -# %li= link_to course.mnemonic_number + " " + course.title, course_professors_path(:p => @section_professor_mapping.select(|v| v[0] == professor_id, :c => course.id)
        - else
          - next
